<%- include('../partials/head') %>
<body>
    <%- include('../partials/header.ejs') %>
    <main class="main_registro">
        <!-- <img src="/images/img_formulario_registro.png" alt="formulario de registro" id="imagenFormulario"> -->
        <div class="subtitulo_registrate">
            <p id="p_registro"><%= subtitulo %></p>
        </div>
        <form method="POST" action="/users/profile?_method=PUT" id="form_registro" enctype="multipart/form-data">
            
            <div class="div_config nombre" id="div_nombre">
                <label for="nombre">Nombre</label>
                <input type="text"  name="nombre" id="nombre" value="<%= locals.old && old.nombre ? old.nombre : locals.usuario ? usuario.nombre : null %>" >
            </div>

            <div class="div_config nombre" id="div_apellido">
                <label for="apellido">Apellido</label>
                <input type="text" name="apellido" id="apellido" value="<%= locals.old && old.apellido ? old.apellido : locals.usuario ? usuario.apellido : null %>">
            </div>

            <div class="div_config" id="div_telefono">
                <label for="telefono">Telefono</label>
                <div class="div_config" id="div_prefijo">
                    <input type="number"  name="prefijo" id="prefijo" placeholder="Prefijo"  value="<%= locals.old && old.prefijo ? old.prefijo : locals.usuario && usuario.telefonos.length > 0 ? usuario.telefonos[0].prefijo : null %>">
                </div>
                <div class="div_config" id="div_numero">
                <input type="number"  name="numero" id="numero" placeholder="Numero"  value="<%= locals.old && old.numero ? old.numero : locals.usuario && usuario.telefonos.length > 0 ? usuario.telefonos[0].numero : null %>">
                </div>
            </div>

            <div class="div_config" id="div_domicilio">
                <label for="domicilio">Domicilio</label>
                <div class="div_config" id="div_nombre_calle">
                    <input type="text"  name="nombre_calle" id="nombre_calle" placeholder="Nombre Calle" value="<%= locals.old && old.nombre_calle ? old.nombre_calle : locals.usuario && usuario.direcciones[0].nombre_calle ? usuario.direcciones[0].nombre_calle : null %>">
                </div>
                <div class="div_config" id="div_numero_calle">
                    <input type="number"  name="numero_calle" id="numero_calle" placeholder="Numero Calle" value="<%= locals.old && old.numero_calle ? old.numero_calle : locals.usuario && usuario.direcciones[0].numero_calle ? usuario.direcciones[0].numero_calle : null %>">
                </div>
                <div class="div_config" id="div_codigo_postal">
                    <input type="number"  name="codigo_postal" id="codigo_postal" placeholder="Codigo Postal" value="<%= locals.old && old.codigo_postal ? old.codigo_postal : locals.usuario && usuario.direcciones[0].codigo_postal ? usuario.direcciones[0].codigo_postal : null %>">
                </div>
                <div class="div_config" id="div_localidad">
                    <input type="text"  name="localidad" id="localidad" placeholder="Localidad" value="<%= locals.old && old.localidad ? old.localidad : locals.usuario && usuario.direcciones[0].localidad ? usuario.direcciones[0].localidad : null %>">
                </div>
                <div class="div_config" id="div_provincia">
                    <input type="text"  name="provincia" id="provincia" placeholder="Provincia" value="<%= locals.old && old.provincia ? old.provincia : locals.usuario && usuario.direcciones[0].provincia ? usuario.direcciones[0].provincia : null %>">
                </div>
            </div>
            
            <div class="div_config" id="div_fecha_nacimiento">
                <label for="fecha_nacimiento">Fecha de Nacimiento</label>
                <input type="text" name="fecha_nacimiento" id="fecha_nacimiento" value="<%= locals.old && old.fecha_nacimiento ? old.fecha_nacimiento : respuesta ? respuesta.fecha_nacimiento : null %>">
            </div>

            <div class="div_config" id="div_email">
                <label for="email">Email</label>
                <input type="email"  name="email"  id="email" placeholder="Email" value="<%= locals.old && old.email ? old.email : locals.usuario ? usuario.email : null %>">
            </div>

            <div>
                <img src="<%= locals.usuario.imagen %>" alt="Avatar-usuario" style="width: 100px; height: 100px; ">
            </div>
            <div class="div_config" id="div_imagen">
                <label for="imagen">Editar Imagen</label>
                <input type="file" name="imagen" id="imagen">    
            </div>
        
            <div class="boton_registro">
                <button type="submit" id="button-submit">Guardar</button>
                <a href="/users/perfilUser"><button>Cancelar</button></a>
            </div>

        </form>
    </main>

    <script src="/javascripts/validations-form-UpdateUser.js"></script>

    <%- include('../partials/footer') %>
</body>
</html>
